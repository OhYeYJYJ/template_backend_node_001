개발:computer:
---------------------------

* [API interface to index](#API-interface-to-index)  
* [API interface to controller](#API-interface-to-controller)  
* [API interface to model](#API-interface-to-model)  
* [API CommonUtil](#API-CommonUtil)  
* [API CommonCode](#API-CommonCode)  

<br/>

API interface to index
---------------------------------
<p float="left">
  <img src="./img/interface_index_1.png" width="270" height="600"/>  
  <img src="./img/interface_index_2.png" width="500" height="250"/>  
  <img src="./img/interface_index_3.png" width="500" height="250"/>  
</p>

Front에서 backend를 호출하게 되면 `app.js`를 통해 각 controller를 찾아가 동작을 수행하게 된다.   

그림 1번은 `localhost:8080/user`라는 주소로 요청이 들어올경우 동작한다.  
호출이 일어나면 `./api/interface/user`의 폴더를 찾아가 `index.js`파일을 가장 먼저 찾는다.  
`index.js` 파일에에 정의 된 호출 주소와 방식(get,post,put,delete)에 따라 해당하는 컨트롤러를 찾아간다.  

예시)  
`localhost:8080/user` (post) 방식으로 호출 할 경우 `controller.create`를 호출  
`localhost:8080/user/dupleCheck/3` (get) 방식으로 호출 할 경우 `controller.dupleCheck`를 호출  

<br/>

API interface to controller
---------------------------------
<p float="left">
  <img src="./img/interface_controller_1.png" width="270" height="600"/>  
  <img src="./img/interface_controller_2.png" width="580" height="600"/>  
</p>

Index에서 controller.create를 호출 할 경우 1번 그림에 해당하는 함수가 호출된다.  

2번 그림은 maria db와 연결하여 user정보를 가져오는 부분이다.  
미리 선언된 model을 통해 db와 통신하여 user table에서 원하는 정보를 조회해온다.  
통신시 발생하는 에러 메시지나 성공메세지는 3번 그림과 같이 공통으로 선언하여 처리한다.  

공통으로 사용되는 함수는 4번 그림과 같이 commonUtil에 작성하여 불러 쓴다.  

<br/>

API interface to model
---------------------------------
<p float="left">
  <img src="./img/interface_model_1.png" width="270" height="600"/>  
  <img src="./img/interface_model_2.png" width="580" height="600"/>  
</p>

User라는 maria db의 테이블을 model로 정의한 모습이다.  
다른 테이블도 이처럼 model로 테이블을 정의하여 maria db와 데이터를 주고 받는다.  

Db와 연결된 상태의 sequelize 객체를 impor하여 model을 정의. 자세한 설명은 아래.  

<br/>

API CommonUtil
---------------------------------
<p float="left">
  <img src="./img/interface_commonutil_1.png" width="240" height="500"/>  
  <img src="./img/interface_commonutil_2.png" width="500" height="520"/>  
</p>

공통함수는 commonUtil.js 파일에 선언해서 사용한다  

<br/>

API CommonCode
---------------------------------
<p float="left">
  <img src="./img/interface_commoncode_1.png" width="290" height="500"/>  
  <img src="./img/interface_commoncode_2.png" width="450" height="520"/>  
</p>

공통코드를 사용하는 기능(셀렉트박스)들은 그림과 같이 commonCode에 정의하여 데이터를 가져 올 수 있도록 구성.  

이때 셀렉트박스의 처음 옵션은 화면에서 parameter를 넘겨주면 거기에 맞게 customizing하여 사용 할 수 있다.  
현재는 S를 받으면 '선택'을, A를 받으면 '전체'를 데이터 처음에 붙여서 넘겨주고 있다.  

<br/>



